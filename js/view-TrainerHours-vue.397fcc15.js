(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-TrainerHours-vue","view-NotificationMessage-vue"],{"45a1":function(t,e,o){"use strict";var i=o("72a4"),s=o.n(i);s.a},"59ef":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide-notification",appear:""}},[o("div",{staticClass:"notification",class:{light:t.light},on:{click:function(e){return t.close()}}},[o("div",{staticClass:"msg",domProps:{innerHTML:t._s(t.msg)}})])])},s=[],a=o("9ab4"),n=o("60a3");let r=class extends n["c"]{constructor(){super(...arguments),this.autoHide=5e3}mounted(){this.hold||setTimeout(()=>this.close(),this.autoHide)}close(){this.$emit("close")}};a["__decorate"]([Object(n["b"])()],r.prototype,"msg",void 0),a["__decorate"]([Object(n["b"])({type:Boolean})],r.prototype,"light",void 0),a["__decorate"]([Object(n["b"])({type:Boolean})],r.prototype,"hold",void 0),r=a["__decorate"]([Object(n["a"])({components:{}})],r);var l=r,u=l,c=(o("5bc5"),o("2877")),m=Object(c["a"])(u,i,s,!1,null,"5463e194",null);e["default"]=m.exports},"5bc5":function(t,e,o){"use strict";var i=o("deeb"),s=o.n(i);s.a},"72a4":function(t,e,o){},a95c:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide-slot",appear:""}},[o("div",{staticClass:"availability-select",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[t.notificationMsg?o("NotificationMessage",{attrs:{light:"",msg:t.notificationMsg},on:{close:function(e){t.notificationMsg=null}}}):t._e(),o("form",{on:{submit:function(e){return e.preventDefault(),t.setTimeSlot(e)}}},[t.slotsExist()?t._e():o("div",{staticClass:"h3"},[t._v(t._s(t.$t("trainerHours.text1")))]),o("div",{staticClass:"h3 mb-4"},[t._v(t._s(t.day))]),t._l(t.countTimeSlots,function(e){return o("div",{staticClass:"time-slot",class:{last:e===t.countTimeSlots}},[o("div",{staticClass:"clock"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].fromHour,expression:"timeSlots[n-1].fromHour"}],staticClass:"hours",attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"fromHour",o.target.multiple?i:i[0])}}},t._l(12,function(e){return o("option",{key:e+"am",domProps:{value:""+e}},[t._v(t._s(e))])}),0),o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].fromMinute,expression:"timeSlots[n-1].fromMinute"}],attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"fromMinute",o.target.multiple?i:i[0])}}},[o("option",{attrs:{value:"0"}},[t._v("00")]),o("option",{attrs:{value:"30"}},[t._v("30")])]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].fromAmPm,expression:"timeSlots[n-1].fromAmPm"}],attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"fromAmPm",o.target.multiple?i:i[0])}}},[o("option",{attrs:{value:"am"}},[t._v("am")]),o("option",{attrs:{value:"pm"}},[t._v("pm")])])]),o("div",{staticClass:"divider"},[t._v("To")]),o("div",{staticClass:"clock"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].toHour,expression:"timeSlots[n-1].toHour"}],staticClass:"hours",attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"toHour",o.target.multiple?i:i[0])}}},t._l(12,function(e){return o("option",{key:e+"am",domProps:{value:""+e}},[t._v(t._s(e))])}),0),o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].toMinute,expression:"timeSlots[n-1].toMinute"}],attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"toMinute",o.target.multiple?i:i[0])}}},[o("option",{attrs:{value:"0"}},[t._v("00")]),o("option",{attrs:{value:"30"}},[t._v("30")])]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.timeSlots[e-1].toAmPm,expression:"timeSlots[n-1].toAmPm"}],attrs:{disabled:t.slotsExist()},on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.timeSlots[e-1],"toAmPm",o.target.multiple?i:i[0])}}},[o("option",{attrs:{value:"am"}},[t._v("am")]),o("option",{attrs:{value:"pm"}},[t._v("pm")])])])])}),!t.slotsExist()&&t.countTimeSlots<t.maxTimeSlots?o("button",{staticClass:"add-slot",attrs:{type:"button"},on:{click:t.addTimeSlot}},[t._v(t._s(t.$t("trainerHours.text2")))]):t._e(),o("div",{staticClass:"actions"},[o("button",{attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("trainerHours.text5")))]),o("button",{class:{disabled:0!==this.availability.length},attrs:{type:"submit"}},[t._v(t._s(t.$t("trainerHours.text3")))])])],2),t.slotsExist()?o("button",{staticClass:"unavailable",on:{"~click":function(e){return t.becomeUnavailable(e)}}},[t._v(t._s(t.$t("trainerHours.text6")))]):t._e()],1)])},s=[],a=o("9ab4"),n=o("60a3"),r=o("b99e"),l=o("59ef"),u=o("88c3");let c=class extends n["c"]{constructor(){super(...arguments),this.notificationMsg=null,this.countTimeSlots=1,this.maxTimeSlots=3,this.timeSlots=[]}created(){if(this.availability.length)this.countTimeSlots=this.availability.length,this.availability.forEach((t,e)=>{const o={},i=new Date(t.TimeSlot.Start).getHours(),s=new Date(t.TimeSlot.End).getHours();o.fromHour=this.format12hour(i),o.fromMinute=new Date(t.TimeSlot.Start).getMinutes(),o.fromAmPm=this.amPm(i),o.toHour=this.format12hour(s),o.toMinute=new Date(t.TimeSlot.End).getMinutes(),o.toAmPm=this.amPm(s),this.timeSlots.push(o)});else for(let t=0;t<this.countTimeSlots;t++)this.timeSlots.push({})}setTimeSlot(){const t=new Date(this.date),e=new Date(this.date);this.timeSlots.forEach((o,i)=>{if(o.fromHour){const i=this.format24hour(o.fromHour,o.fromAmPm),s=this.format24hour(o.toHour,o.toAmPm,!0);t.setHours(i,0,0,0),t.setMinutes(o.fromMinute,0,0),e.setHours(s,0,0,0),e.setMinutes(o.toMinute,0,0),this.postAvailability(t,e)}})}postAvailability(t,e){r["a"].client.call.booking.availabilityPost(t,e).response.then(()=>this.$emit("close")).catch(()=>this.notificationMsg=u["a"].t("trainerHours.text4"))}becomeUnavailable(){this.availability.forEach(t=>r["a"].client.call.booking.availabilityDelete(t.Id).response.then(()=>this.$emit("close")))}addTimeSlot(){this.countTimeSlots++,this.timeSlots.push({})}slotsExist(){return!!this.availability.length}format24hour(t,e,o=!1){const i=o?24:0;return"pm"===e?12===Number(t)?12:Number(t)+12:12===Number(t)?i:t}format12hour(t){return 0===Number(t)?12:t>12?t-12:t}amPm(t){return t>=12?"pm":"am"}};a["__decorate"]([Object(n["b"])()],c.prototype,"date",void 0),a["__decorate"]([Object(n["b"])()],c.prototype,"day",void 0),a["__decorate"]([Object(n["b"])()],c.prototype,"availability",void 0),c=a["__decorate"]([Object(n["a"])({components:{NotificationMessage:l["default"]}})],c);var m=c,v=m,d=(o("45a1"),o("2877")),p=Object(d["a"])(v,i,s,!1,null,"ee9f0f12",null);e["default"]=p.exports},deeb:function(t,e,o){}}]);
//# sourceMappingURL=view-TrainerHours-vue.397fcc15.js.map