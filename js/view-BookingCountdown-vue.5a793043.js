(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-BookingCountdown-vue"],{"97af":function(t,e,i){},cf0e:function(t,e,i){"use strict";var o=i("97af"),n=i.n(o);n.a},e29b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"booking-countdown"},[o("img",{staticClass:"avatar",attrs:{src:t.booking.Participant.ProfilePictureUrl?t.booking.Participant.ProfilePictureUrl:""+i("fad5")}}),o("div",{staticClass:"h4"},[t._v(t._s(t.$t("bookingCountdown.your"))+" "+t._s(t.booking.TrainingDuration-5+"min "+t.getTrainingType(t.booking.TrainingType))+" "+t._s(t.$t("bookingCountdown.sessionWith"))+" "+t._s(t.booking.Participant.FirstName)+" "+t._s(t.$t("bookingCountdown.startsIn")))]),t.timeLeft?o("div",{staticClass:"h1 time"},[t._v(t._s(t.timeLeft))]):t._e(),o("div",{staticClass:"intro-text"},[t._v(t._s(t.$t("bookingCountdown.introText")))]),o("div",{staticClass:"hint hidden-sm-and-up"},[t._v("*Switch to your tablet or laptop for a better experience")]),o("div",{staticClass:"hidden-sm-and-down w-100"},[o("button",{staticClass:"cancel",on:{click:t.cancelBooking,mouseleave:function(e){t.confirmCancel=null}}},[t._v(t._s(t.confirmCancel?t.$t("bookingCountdown.click"):t.$t("cancelSession")))]),o("button",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("close")))])]),o("div",{staticClass:"btn-group fixed hidden-md-and-up"},[o("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("close")))]),o("button",{staticClass:"cancel",on:{click:t.cancelBooking,mouseleave:function(e){t.confirmCancel=null}}},[t._v(t._s((t.confirmCancel,t.$t("cancelSession"))))])])])},n=[],s=i("9ab4"),a=i("60a3"),c=i("e0cf");let l=class extends a["c"]{constructor(){super(...arguments),this.timeLeft=null,this.listenCounter=null,this.timeDelta=new Date(this.systemTime).getTime()-Date.now(),this.confirmCancel=null,this.leadZero=(t=>t<10?t<0?"00":`0${t}`:`${t}`)}mounted(){this.countDown()}destroyed(){null!==this.listenCounter&&clearTimeout(this.listenCounter)}getTrainingType(t){const e=c["c"][t];return e.charAt(0).toUpperCase()+e.slice(1)}countDown(){this.calcTime(),null!==this.listenCounter&&this.timeToStart<=-1e3?(clearTimeout(this.listenCounter),this.$emit("startBookingSession",this.booking)):this.listenCounter=window.setTimeout(()=>this.countDown(),1e3)}calcTime(){this.timeToStart=new Date(this.booking.TimeSlot.Start).getTime()-Date.now()-this.timeDelta;const t=Math.floor(this.timeToStart/1e3/60/60),e=Math.floor(this.timeToStart/1e3/60%60),i=Math.floor(this.timeToStart/1e3%60);this.timeLeft=`${this.leadZero(t)}:${this.leadZero(e)}:${this.leadZero(i)}`}cancelBooking(){this.confirmCancel&&(this.$emit("cancelBooking",this.booking.Id),window.localStorage.setItem("cancelBooking","yes")),this.confirmCancel=!0}};s["__decorate"]([Object(a["b"])()],l.prototype,"booking",void 0),s["__decorate"]([Object(a["b"])()],l.prototype,"systemTime",void 0),l=s["__decorate"]([Object(a["a"])({components:{}})],l);var r=l,u=r,m=(i("cf0e"),i("2877")),d=Object(m["a"])(u,o,n,!1,null,"2b7cba77",null);e["default"]=d.exports},fad5:function(t,e,i){t.exports=i.p+"img/avatar-dummy.10e80969.jpg"}}]);
//# sourceMappingURL=view-BookingCountdown-vue.5a793043.js.map