{"version":3,"sources":["webpack:///./src/components/MessageBar.vue?b240","webpack:///./src/components/MessageBar.vue?5960","webpack:///./src/components/MessageBar.vue?3916","webpack:///./src/components/MessageBar.vue","webpack:///./src/components/UserSessions.vue?4e80","webpack:///./src/components/UserSessions.vue?b8fb","webpack:///./src/components/UserSessions.vue?46a7","webpack:///./src/components/UserSessions.vue?5e87","webpack:///./src/components/UserSessions.vue","webpack:///./node_modules/vuetify/lib/components/VGrid/VContainer.js","webpack:///./node_modules/vuetify/lib/components/VGrid/VLayout.js","webpack:///./src/components/MessageBar.vue?e626","webpack:///./src/assets/images/avatar-dummy.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","dark","domProps","innerHTML","_s","msg","_t","staticRenderFns","MessageBarvue_type_script_lang_ts_PendingMessage","vue_property_decorator","tslib_es6","Object","type","Boolean","components","MessageBarvue_type_script_lang_ts_","components_MessageBarvue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSessions_vue_vue_type_style_index_0_id_6ed3649a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSessions_vue_vue_type_style_index_0_id_6ed3649a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","on","click","$event","$emit","_v","$t","_l","session","key","Id","disabled","isCompletedAndStudent","State","updateRating","attrs","src","Participant","ProfilePictureUrl","sessionState","formatDate","ExpiresOn","formatTypeDuration","TrainingType","Duration","Math","round","Rating","_e","sessionsHistory","length","perPage","currPage","historyPortion","Number","for","directives","name","rawName","value","expression","id","change","input","target","composing","totalPages","UserSessionsvue_type_script_lang_ts_MySessions","[object Object]","sessionsRange","dist","leadZero","x","isStudent","portal","getSessionsHistory","getForStudent","getForTrainer","client","call","trainingSession","response","then","res","reverse","ceil","nextPage","from","to","slice","date","d","Date","toLocaleDateString","amPm","getHours","getMinutes","toUpperCase","typeId","duration","t","capitalize","str","charAt","hour","min","m","state","MessageBar","UserSessionsvue_type_script_lang_ts_","components_UserSessionsvue_type_script_lang_ts_","installComponents_default","VContainer","VFlex","VLayout","_grid__WEBPACK_IMPORTED_MODULE_1__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageBar_vue_vue_type_style_index_0_id_59854c17_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MessageBar_vue_vue_type_style_index_0_id_59854c17_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","module","exports","p"],"mappings":"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","file":"js/view-UserSessions-vue.4824f01d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.msg)?_c('div',{staticClass:\"message-bar\",class:{dark: _vm.dark}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.msg)}})]):_c('div',{staticClass:\"message-bar\",class:{dark: _vm.dark}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\"\n\n@Component({ components: { } })\nexport default class PendingMessage extends Vue {\n\t@Prop()\n\tprivate msg!: string\n\n\t@Prop({type: Boolean})\n\tprivate dark!: boolean\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessageBar.vue?vue&type=template&id=59854c17&scoped=true&lang=pug&\"\nimport script from \"./MessageBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessageBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MessageBar.vue?vue&type=style&index=0&id=59854c17&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59854c17\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSessions.vue?vue&type=style&index=0&id=6ed3649a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSessions.vue?vue&type=style&index=0&id=6ed3649a&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fluid user-sessions\"},[_c('v-layout',{staticClass:\"column wrap\"},[_c('v-flex',{staticClass:\"top-bar\"},[_c('button',{staticClass:\"close\",on:{\"click\":function($event){return _vm.$emit('close')}}}),_c('div',{staticClass:\"h3\"},[_vm._v(_vm._s(_vm.$t('mySessions')))])]),_c('v-flex',{staticClass:\"d-flex\"},[_c('ul',{staticClass:\"sessions-history\"},_vm._l((_vm.sessionsRange),function(session){return _c('li',{key:session.Id},[_c('a',{class:{disabled: !_vm.isCompletedAndStudent(session.State)},on:{\"click\":function($event){return _vm.updateRating(session)}}},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":session.Participant.ProfilePictureUrl ? session.Participant.ProfilePictureUrl : (\"\" + (require('@/assets/images/avatar-dummy.jpg')))}})]),_c('div',{staticClass:\"data\"},[_c('h5',{staticClass:\"name\"},[_vm._v(_vm._s(((session.Participant.FirstName) + \" \" + (session.Participant.LastName))))]),_c('h5',{staticClass:\"time\"},[_vm._v(_vm._s(((_vm.sessionState[session.State]) + \", \" + (_vm.formatDate(session.ExpiresOn)))))])]),_c('div',{staticClass:\"type\"},[_c('span',[_vm._v(_vm._s(_vm.formatTypeDuration(session.TrainingType, session.Duration)))]),(_vm.isStudent)?_c('div',{staticClass:\"rate\"},_vm._l((Math.round(session.Rating)),function(n){return _c('span',{staticClass:\"yp__star\"})}),0):_vm._e()])])])}),0)]),(_vm.sessionsHistory!==null)?_c('v-flex',[(_vm.sessionsHistory.length>_vm.perPage)?_c('div',{staticClass:\"pagination\"},[_c('a',{staticClass:\"yp__arrow-left\",class:{disabled: _vm.currPage===1},on:{\"click\":function($event){_vm.historyPortion(Number(_vm.currPage)-1)}}}),_c('label',{staticClass:\"pages\",attrs:{\"for\":\"pages\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currPage),expression:\"currPage\"}],attrs:{\"type\":\"number\",\"id\":\"pages\"},domProps:{\"value\":(_vm.currPage)},on:{\"change\":function($event){return _vm.historyPortion(_vm.currPage)},\"input\":function($event){if($event.target.composing){ return; }_vm.currPage=$event.target.value}}}),_c('span',[_vm._v(_vm._s((\"/ \" + _vm.totalPages)))])]),_c('a',{staticClass:\"yp__arrow-right\",class:{disabled: _vm.currPage===_vm.totalPages},on:{\"click\":function($event){_vm.historyPortion(Number(_vm.currPage)+1)}}})]):_vm._e(),(_vm.sessionsHistory.length===0)?_c('MessageBar',{staticClass:\"no-history\",attrs:{\"msg\":\"No previous sessions.\"}}):_vm._e()],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue, Watch} from \"vue-property-decorator\"\nimport Portal from \"@/managers/portal\"\nimport {ITrainingSession, TrainingSessionState, TrainingSessionType} from \"@chaosinsight/yogipeople-portalclient\"\nimport {ITrainingSessionHistory} from \"@chaosinsight/yogipeople-portalclient/dist/extensions/trainingSession\"\nimport MessageBar from \"@/components/MessageBar.vue\"\n\n@Component({ components: { MessageBar }} )\nexport default class MySessions extends Vue {\n\t@Prop()\n\tprivate reloadHistory!: boolean\n\n\tprivate sessionsHistory: ITrainingSessionHistory | null = null\n\tprivate sessionsRange: ITrainingSessionHistory | null = null\n\n\tprivate totalPages: number = 0\n\tprivate currPage: number = 1\n\tprivate perPage: number = 5\n\n\tprivate sessionState: object = TrainingSessionState\n\n\tprivate get isStudent(): boolean | null {\n\t\treturn Portal.isStudent\n\t}\n\n\t@Watch(\"reloadHistory\")\n\tprivate reload(): void {\n\t\tthis.getSessionsHistory()\n\t\tthis.$emit(\"historyReloaded\")\n\t}\n\n\tprivate mounted(): void {\n\t\tthis.getSessionsHistory()\n\t}\n\n\t/**\n\t * Get sessions history\n\t */\n\n\tprivate getSessionsHistory(): void {\n\t\tthis.isStudent\n\t\t\t? this.getForStudent()\n\t\t\t: this.getForTrainer()\n\t}\n\n\t/**\n\t * Sessions history for Student/Trainer\n\t */\n\n\tprivate getForStudent(): void {\n\t\tPortal.client.call.trainingSession.getForStudent()\n\t\t\t.response\n\t\t\t.then(res => {\n\t\t\t\tthis.sessionsHistory = (res as any).reverse()\n\t\t\t\tthis.totalPages = Math.ceil((this.sessionsHistory as any).length / this.perPage)\n\t\t\t\tthis.historyPortion(this.currPage)\n\t\t\t})\n\t}\n\n\tprivate getForTrainer(): void {\n\t\tPortal.client.call.trainingSession.getForTrainer()\n\t\t\t.response\n\t\t\t.then(res => {\n\t\t\t\tthis.sessionsHistory = (res as any).reverse()\n\t\t\t\tthis.totalPages = Math.ceil((this.sessionsHistory as any).length / this.perPage)\n\t\t\t\tthis.historyPortion(this.currPage)\n\t\t\t})\n\t}\n\n\t/**\n\t * Get portion of Sessions History\n\t */\n\n\tprivate historyPortion(nextPage: number): void {\n\t\tnextPage = nextPage > this.totalPages\n\t\t\t? this.totalPages\n\t\t\t: nextPage < 1 ? 1 : nextPage\n\t\tconst from: number = (nextPage - 1) * this.perPage\n\t\tconst to: number = from + this.perPage\n\t\tthis.sessionsRange = (this.sessionsHistory as any).slice(from, to)\n\t\tthis.currPage = nextPage\n\t}\n\n\t/**\n\t * Format date\n\t */\n\n\tprivate formatDate(date: string): string {\n\t\tconst d = new Date(date)\n\t\treturn `${d.toLocaleDateString()}, ${this.amPm(d.getHours(), d.getMinutes()).toUpperCase()}`\n\t}\n\n\t/**\n\t * Format training type and duration\n\t */\n\n\tprivate formatTypeDuration(typeId: number, duration: number): string {\n\t\tconst t = TrainingSessionType[typeId]\n\t\tconst d = duration === 30 ? 25 : 55\n\t\treturn `${this.capitalize(t)}, ${d}min`\n\t}\n\n\tprivate capitalize(str: string): string {\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1)\n\t}\n\n\t/**\n\t * Convert hour in am/pm format\n\t */\n\n\tprivate amPm(hour: number, min: number): string {\n\t\tconst m = (min && min < 10) ? this.leadZero(min) : min\n\t\tif (hour > 12)\n\t\t\treturn `${hour % 12}${m ? \":\" + m : \"\"}pm`\n\t\telse if (hour < 12)\n\t\t\treturn `${hour}${m ? \":\" + m : \"\"}am`\n\t\treturn `12${m ? \":\" + m : \"\"}pm`\n\t}\n\n\t/**\n\t * Lead zero\n\t */\n\n\tprivate leadZero = (x: number): string => x < 10 ? x < 0 ? `00` :\t`0${x}` : `${x}`\n\n\t/**\n\t * Update rating for completed session\n\t */\n\n\tprivate updateRating(session: ITrainingSession): void {\n\t\tif (session.State === 3 && this.isStudent)\n\t\t\tthis.$emit(\"updateRating\", session)\n\t}\n\n\t/**\n\t * Allow click for student and if session is completed\n\t */\n\n\tprivate isCompletedAndStudent(state: number): boolean | null {\n\t\treturn state === 3 && this.isStudent\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSessions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSessions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserSessions.vue?vue&type=template&id=6ed3649a&scoped=true&lang=pug&\"\nimport script from \"./UserSessions.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserSessions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserSessions.vue?vue&type=style&index=0&id=6ed3649a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ed3649a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/imac/dev/myhelloyoga/yogipeople-web/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {VContainer,VFlex,VLayout})\n","import '../../../src/stylus/components/_grid.styl';\nimport Grid from './grid';\nexport default Grid('container');\n//# sourceMappingURL=VContainer.js.map","import '../../../src/stylus/components/_grid.styl';\nimport Grid from './grid';\nexport default Grid('layout');\n//# sourceMappingURL=VLayout.js.map","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBar.vue?vue&type=style&index=0&id=59854c17&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageBar.vue?vue&type=style&index=0&id=59854c17&lang=stylus&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/avatar-dummy.10e80969.jpg\";"],"sourceRoot":""}