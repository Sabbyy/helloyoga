{"version":3,"sources":["webpack:///./src/components/FeedbackStudent.vue?13c4","webpack:///./src/components/FeedbackStudent.vue?24d4","webpack:///./src/components/FeedbackStudent.vue?a732","webpack:///./src/components/FeedbackStudent.vue","webpack:///./src/components/FeedbackStudent.vue?e682","webpack:///./src/mixins/whichBrowser.ts","webpack:///./src/managers/zendesk.ts","webpack:///./src/assets/images/avatar-dummy.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","feedbackType","_v","_s","$t","_l","reason","idx","key","on","click","$event","submitFeedback","_e","attrs","src","sessionData","Participant","ProfilePictureUrl","__webpack_require__","title","n","class","selected","rating","maxRating","directives","name","rawName","value","expression","type","id","placeholder","domProps","input","target","composing","comment","postZendesk","staticRenderFns","FeedbackStudentvue_type_script_lang_ts_FeedbackStudent","vue_property_decorator","[object Object]","cancelTime","storage","window","localStorage","cancelReasons","i18n","t","Date","toLocaleString","dist","Expired","OtherUserCancelled","OtherUserCompleted","indexOf","State","getItem","removeItem","cancelReason","completeOnLogin","cancelOnLogin","rate","portal","client","call","trainingSession","studentComplete","Id","response","then","cancel","studentRate","$emit","setItem","zendesk","createTicket","profile","tslib_es6","Object","components","FeedbackStudentvue_type_script_lang_ts_","components_FeedbackStudentvue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FeedbackStudent_vue_vue_type_style_index_0_id_62a5e402_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FeedbackStudent_vue_vue_type_style_index_0_id_62a5e402_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","whichBrowser","os","navigator","appVersion","toLowerCase","test","platform","toLocaleLowerCase","userAgent","mixins_whichBrowser","zendesk_Zendesk","url","token","session","fetch","method","headers","Content-Type","Authorization","body","JSON","stringify","request","email","Email","requester","FirstName","LastName","subject","StartsOn","ExpiresOn","endTime","stars","blockStudent","msg","isStudent","getBody","participant","getSubject","isEndedEarlier","getFeedback","getFeedbackComment","module","exports","p"],"mappings":"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","file":"js/view-FeedbackStudent-vue.02853fd8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[(_vm.feedbackType === 'cancel' || _vm.feedbackType === 'cancelOnLogin')?_c('div',{staticClass:\"feedback-cancel text-xs-center\"},[_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.$t('feedbackStudent.text1'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('feedbackStudent.text2')))]),_c('ul',{staticClass:\"cancel-reasons\"},_vm._l((_vm.cancelReasons),function(reason,idx){return _c('li',{key:idx},[_c('div',{staticClass:\"hr\"}),_c('a',{on:{\"click\":function($event){return _vm.submitFeedback(reason)}}},[_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(reason))])])])}),0)]):_vm._e(),(_vm.feedbackType === 'complete' || _vm.feedbackType === 'completeOnLogin')?_c('div',{staticClass:\"feedback-complete text-xs-center\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.sessionData.Participant.ProfilePictureUrl ? _vm.sessionData.Participant.ProfilePictureUrl : (\"\" + (require('@/assets/images/avatar-dummy.jpg')))}}),(_vm.title && _vm.feedbackType!=='updateRating')?_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.$t('feedbackStudent.text3'))+\" \"+_vm._s(((_vm.sessionData.Participant.FirstName) + \" \" + (_vm.sessionData.Participant.LastName))))]),_c('div',{staticClass:\"rating\"},_vm._l((_vm.maxRating),function(n){return _c('span',{key:n,staticClass:\"star yp__star\",class:{selected: _vm.rating === _vm.maxRating - n + 1},on:{\"click\":function($event){_vm.rating = _vm.maxRating - n + 1}}})}),0),_c('label',{staticClass:\"feedback-field\"},[_vm._v(_vm._s(_vm.$t('feedbackStudent.text4'))),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"type\":\"text\",\"id\":\"feedback\",\"placeholder\":_vm.$t('feedbackStudent.text5')},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}})]),_c('div',{staticClass:\"btn-group hidden-sm-and-downa\"},[(_vm.feedbackType!=='completeOnLogin' && _vm.feedbackType!=='cancelOnLogin')?_c('button',{staticClass:\"close\",on:{\"click\":function($event){return _vm.postZendesk()}}},[_vm._v(\"Close\")]):_vm._e(),_c('button',{staticClass:\"submit\",on:{\"click\":function($event){return _vm.submitFeedback()}}},[_vm._v(\"Submit\")])]),_c('div',{staticClass:\"btn-group fixed hidden-md-and-up\"},[(_vm.feedbackType!=='completeOnLogin' && _vm.feedbackType!=='cancelOnLogin')?_c('button',{staticClass:\"close\",on:{\"click\":function($event){return _vm.postZendesk()}}},[_vm._v(\"Close\")]):_vm._e(),_c('button',{staticClass:\"submit\",on:{\"click\":function($event){return _vm.submitFeedback()}}},[_vm._v(\"Submit\")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\"\nimport {IStudentProfile, ITrainingSession, TrainingSessionRating, TrainingSessionState} from \"@chaosinsight/yogipeople-portalclient\"\nimport Portal from \"@/managers/portal\"\nimport Zendesk from \"@/managers/zendesk.ts\"\nimport i18n from \"../i18n\"\nimport { TranslateResult } from \"vue-i18n\"\n\n@Component({ components: { } })\nexport default class FeedbackStudent extends Vue {\n\t@Prop()\n\tpublic feedbackType!: string\n\n\t@Prop()\n\tpublic profile!: IStudentProfile\n\n\t@Prop()\n\tpublic sessionData!: ITrainingSession\n\n\tpublic maxRating: number = 5\n\tpublic rating: TrainingSessionRating | null = null\n\tpublic title: TranslateResult | null = null\n\tpublic comment: string | null = null\n\tpublic cancelTime: string | null = null\n\n\tprivate storage = window.localStorage\n\n\tprivate cancelReasons: TranslateResult[] = [\n\t\ti18n.t(\"feedbackStudent.reason1\"),\n\t\ti18n.t(\"feedbackStudent.reason2\"),\n\t\ti18n.t(\"feedbackStudent.reason3\"),\n\t\ti18n.t(\"feedbackStudent.reason4\"),\n\t\ti18n.t(\"feedbackStudent.reason5\")\n\t]\n\n\tprivate created(): void {\n\t\tthis.cancelTime = this.feedbackType === \"cancel\" ? new Date().toLocaleString() : null\n\t\tthis.title = ([TrainingSessionState.Expired, TrainingSessionState.OtherUserCancelled, TrainingSessionState.OtherUserCompleted].indexOf(this.sessionData.State) !== -1)\n\t\t\t? i18n.t(\"feedbackStudent.text6\")\n\t\t\t: i18n.t(\"feedbackStudent.text7\")\n\n\t\t// Zendesk ticket \"session started\": remove local storage item if exists\n\t\tif (this.storage.getItem(\"zendesk\") !== null)\n\t\t\tthis.storage.removeItem(\"zendesk\")\n\t}\n\n\t/**\n\t * Submit corresponding feedback\n\t */\n\n\tprivate submitFeedback(cancelReason?: string) {\n\t\tif ([TrainingSessionState.Expired, TrainingSessionState.OtherUserCompleted].indexOf(this.sessionData.State) !== -1)\n\t\t\tthis.completeOnLogin()\n\t\telse if (this.sessionData.State === TrainingSessionState.OtherUserCancelled)\n\t\t\tthis.cancelOnLogin()\n\t\telse\n\t\t\t!!cancelReason ? this.postZendesk(cancelReason) : this.rate()\n\t}\n\n\t/**\n\t * Complete/cancel session on login (if exists)\n\t */\n\n\tprivate completeOnLogin(): void {\n\n\t\tPortal.client.call.trainingSession.studentComplete(this.sessionData.Id, this.rating)\n\t\t\t.response.then(() => {\n\t\t\t\tthis.postZendesk()\n\t\t\t})\n\t}\n\n\tprivate cancelOnLogin(): void {\n\t\tPortal.client.call.trainingSession.cancel(this.sessionData.Id)\n\t\t\t.response.then(() => {\n\t\t\t\tthis.postZendesk()\n\t\t\t})\n\t}\n\n\t/**\n\t * Post ratings\n\t */\n\n\tprivate rate(): void {\n\t\tif (this.rating === null)\n\t\t\treturn\n\n\t\tPortal.client.call.trainingSession.studentRate(this.sessionData.Id, this.rating)\n\t\t\t.response.then(() => {\n\t\t\t\tif (this.feedbackType === \"updateRating\")\n\t\t\t\t\tthis.$emit(\"reloadHistory\")\n\t\t\t\tthis.postZendesk()\n\t\t\t})\n\t}\n\n\t/**\n\t * Send Zendesk ticket\n\t */\n\n\tprivate postZendesk(cancelReason: string | null = null): void {\n\t\twindow.localStorage.setItem(\"closedFeedback\", \"closed\")\n\t\tif (cancelReason)\n\n\t\tif (this.feedbackType !== \"updateRating\")\n\t\t\tZendesk.createTicket(this.feedbackType, cancelReason, this.profile, this.sessionData, this.cancelTime, this.rating, null, this.comment, true)\n\t\tthis.$emit(\"close\")\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackStudent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackStudent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeedbackStudent.vue?vue&type=template&id=62a5e402&scoped=true&lang=pug&\"\nimport script from \"./FeedbackStudent.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeedbackStudent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FeedbackStudent.vue?vue&type=style&index=0&id=62a5e402&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62a5e402\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackStudent.vue?vue&type=style&index=0&id=62a5e402&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackStudent.vue?vue&type=style&index=0&id=62a5e402&lang=stylus&scoped=true&\"","interface IWhichBrowser {\n\tname: string\n\tos: string\n}\n\nconst whichBrowser: IWhichBrowser = {name: \"unknown\", os: \"unknown\"}\n\nif (navigator.appVersion.toLowerCase().indexOf(\"mac\") !== -1) whichBrowser.os = \"MacOS\"\nelse if (/ipad|iphone|ipod/.test(navigator.platform.toLocaleLowerCase())) whichBrowser.os = \"iOS\"\nelse if (window.navigator.userAgent.indexOf(\"ServiceUI\") !== -1) whichBrowser.os = \"Windows 10\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.2\") !== -1) whichBrowser.os = \"Windows 8\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.1\") !== -1) whichBrowser.os = \"Windows 7\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.0\") !== -1) whichBrowser.os = \"Windows Vista\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 5.1\") !== -1) whichBrowser.os = \"Windows XP\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 5.0\") !== -1) whichBrowser.os = \"Windows 2000\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"win\") !== -1) whichBrowser.os = \"Windows\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"android\") > -1) whichBrowser.os = \"Android\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"linux\") !== -1) whichBrowser.os = \"Linux\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"x11\") !== -1) whichBrowser.os = \"UNIX\"\n\nif (navigator.userAgent.toLowerCase().indexOf(\"chrome\") !== -1) whichBrowser.name  = \"Chrome\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"firefox\") !== -1 ) whichBrowser.name = \"FireFox\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"safari\") !== -1) whichBrowser.name = \"Safari\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"edge\") > -1) whichBrowser.name = \"Edge\"\nelse if ((navigator.userAgent.toLowerCase().indexOf(\"msie\") !== -1 )) whichBrowser.name = \"IE\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"op\") > -1) whichBrowser.name = \"Opera\"\n\nexport default whichBrowser\n","import {Component, Vue} from \"vue-property-decorator\"\nimport {IStudentProfile, ITrainerProfile, ITrainingSession} from \"@chaosinsight/yogipeople-portalclient\"\nimport whichBrowser from \"@/mixins/whichBrowser\"\n\n@Component({ components: { } })\nclass Zendesk extends Vue {\n\tprivate url: string = \"https://helloyoga.zendesk.com/api/v2/requests.json\"\n\tprivate token: string = \"Bearer a5ec5001e4f565b24562c9152167b756654bd331d8d857a645607c8fd12c7054\"\n\n\t/**\n\t * Media Error ticket: video/audio not detected\n\t */\n\n\tpublic postTicketMediaErr(profile: IStudentProfile | ITrainerProfile, session: ITrainingSession) {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest: {\n\t\t\t\t\temail: profile.Email,\n\t\t\t\t\trequester: {\n\t\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t\t},\n\t\t\t\t\tsubject: `Media Error!`,\n\t\t\t\t\tcomment: {\n\t\t\t\t\t\tbody: `\n\t\t\t\t\t\t\tProblem with accessing to microphone and/or camera!\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tSession started on: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tName: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t\tEmail: ${profile.Email}\n\t\t\t\t\t\t\tID: ${profile.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tParticipant name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t\t\t`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Send ticket on session started\n\t */\n\n\tpublic postTicketStart(profile: IStudentProfile | ITrainerProfile, session: ITrainingSession) {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest: {\n\t\t\t\t\temail: profile.Email,\n\t\t\t\t\trequester: {\n\t\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t\t},\n\t\t\t\t\tsubject: `Session Started!`,\n\t\t\t\t\tcomment: {\n\t\t\t\t\t\tbody: `\n\t\t\t\t\t\t\tSession started on: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tName: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t\tEmail: ${profile.Email}\n\t\t\t\t\t\t\tID: ${profile.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tParticipant name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t\t\t`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Send ticket on session aborted, canceled (ended earlier), completed\n\t */\n\n\t// tslint:disable:max-line-length\n\tpublic createTicket(feedbackType: string, reason: string | null, profile: IStudentProfile | ITrainerProfile, session: ITrainingSession, endTime: string | null, stars: number | null, blockStudent: boolean | null, msg: string | null, isStudent?: boolean): void {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: this.getBody(feedbackType, reason, profile, session, endTime, stars, blockStudent, msg, isStudent)\n\t\t})\n\t}\n\n\tprivate getBody(feedbackType: string, reason: string | null, profile: IStudentProfile | ITrainerProfile, session: ITrainingSession, endTime: string | null, stars: number | null, blockStudent: boolean | null, msg: string | null, isStudent?: boolean): string {\n\t\tconst requester = isStudent ? \"Student\" : \"Trainer\"\n\t\tconst participant = isStudent ? \"Trainer\" : \"Student\"\n\n\t\treturn JSON.stringify({\n\t\t\trequest: {\n\t\t\t\temail: profile.Email,\n\t\t\t\trequester: {\n\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t},\n\t\t\t\tsubject: `${this.getSubject(feedbackType, endTime)}`,\n\t\t\t\tcomment: {\n\t\t\t\t\tbody: `\n\t\t\t\t\t\t${requester} name: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t${requester} email: ${profile.Email}\n\t\t\t\t\t\t${requester} ID: ${profile.Id}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${participant} name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\tSession start: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tSession success: YES\n\t\t\t\t\t\t${this.isEndedEarlier(feedbackType, endTime)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${this.getFeedback(feedbackType, stars, blockStudent, reason)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${this.getFeedbackComment(msg)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t`\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate getSubject(feedbackType: string, endTime: string | null): string {\n\t\tif (feedbackType === \"completeOnLogin\")\n\t\t\treturn `Session completed on login`\n\t\telse if (feedbackType === \"cancelOnLogin\")\n\t\t\treturn `Session completed on login (ended earlier)`\n\t\treturn endTime\n\t\t\t? `Session complete (ended earlier)`\n\t\t\t: `Session complete`\n\t}\n\n\tprivate isEndedEarlier(feedbackType: string, endTime: string | null) {\n\t\tif (feedbackType === \"completeOnLogin\")\n\t\t\treturn `Session fully completed (rated on next login)`\n\t\telse if (feedbackType === \"cancelOnLogin\")\n\t\t\treturn `Session completed earlier on next login`\n\t\treturn endTime\n\t\t\t? `Session ended earlier on: ${endTime}`\n\t\t\t: `Session fully completed`\n\t}\n\n\tprivate getFeedback(feedbackType: string, stars: number | null, blockStudent: boolean | null, reason: string | null): string | null {\n\t\tif (feedbackType === \"complete\" || feedbackType === \"completeOnLogin\")\n\t\t\tif (blockStudent === null)\n\t\t\t\treturn stars\n\t\t\t\t\t? `Rating: ${stars} ⭐️`\n\t\t\t\t\t: `Rating not submited`\n\t\t\t\telse\n\t\t\t\t\treturn `Allow another session: ${!blockStudent ? \"YES\" : \"NO\"}`\n\t\telse\n\t\t\treturn reason\n\t\t\t\t? `Reason selected: ${reason}`\n\t\t\t\t: `Reason not selected`\n\t}\n\n\tprivate getFeedbackComment(msg: string | null): string {\n\t\treturn msg\n\t\t\t? `Feedback message: ${msg}`\n\t\t\t: `Feedback message: No message`\n\t}\n}\n\nexport default new Zendesk()\n","module.exports = __webpack_public_path__ + \"img/avatar-dummy.10e80969.jpg\";"],"sourceRoot":""}