{"version":3,"sources":["webpack:///./src/components/BookingCountdown.vue?5867","webpack:///./src/components/BookingCountdown.vue?77be","webpack:///./src/components/BookingCountdown.vue?980b","webpack:///./src/components/BookingCountdown.vue?000c","webpack:///./src/components/BookingCountdown.vue","webpack:///./src/assets/images/avatar-dummy.jpg"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookingCountdown_vue_vue_type_style_index_0_id_2b7cba77_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookingCountdown_vue_vue_type_style_index_0_id_2b7cba77_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","booking","Participant","ProfilePictureUrl","_v","_s","$t","TrainingDuration","getTrainingType","TrainingType","FirstName","timeLeft","_e","on","click","cancelBooking","mouseleave","$event","confirmCancel","$emit","type","staticRenderFns","BookingCountdownvue_type_script_lang_ts_BookingCountdown","vue_property_decorator","[object Object]","listenCounter","timeDelta","Date","systemTime","getTime","now","leadZero","x","countDown","clearTimeout","typeId","dist","charAt","toUpperCase","slice","calcTime","timeToStart","window","setTimeout","TimeSlot","Start","h","Math","floor","m","s","Id","localStorage","setItem","tslib_es6","Object","components","BookingCountdownvue_type_script_lang_ts_","components_BookingCountdownvue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","module","exports","p"],"mappings":"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","file":"js/view-BookingCountdown-vue.5a793043.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingCountdown.vue?vue&type=style&index=0&id=2b7cba77&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingCountdown.vue?vue&type=style&index=0&id=2b7cba77&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"booking-countdown\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.booking.Participant.ProfilePictureUrl ? _vm.booking.Participant.ProfilePictureUrl : (\"\" + (require('@/assets/images/avatar-dummy.jpg')))}}),_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.$t(\"bookingCountdown.your\"))+\" \"+_vm._s(((_vm.booking.TrainingDuration - 5) + \"min \" + (_vm.getTrainingType(_vm.booking.TrainingType))))+\" \"+_vm._s(_vm.$t(\"bookingCountdown.sessionWith\"))+\" \"+_vm._s(_vm.booking.Participant.FirstName)+\" \"+_vm._s(_vm.$t(\"bookingCountdown.startsIn\")))]),(_vm.timeLeft)?_c('div',{staticClass:\"h1 time\"},[_vm._v(_vm._s(_vm.timeLeft))]):_vm._e(),_c('div',{staticClass:\"intro-text\"},[_vm._v(_vm._s(_vm.$t(\"bookingCountdown.introText\")))]),_c('div',{staticClass:\"hint hidden-sm-and-up\"},[_vm._v(\"*Switch to your tablet or laptop for a better experience\")]),_c('div',{staticClass:\"hidden-sm-and-down w-100\"},[_c('button',{staticClass:\"cancel\",on:{\"click\":_vm.cancelBooking,\"mouseleave\":function($event){_vm.confirmCancel=null}}},[_vm._v(_vm._s(!_vm.confirmCancel ? _vm.$t('cancelSession') : _vm.$t('bookingCountdown.click')))]),_c('button',{staticClass:\"close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.$t('close')))])]),_c('div',{staticClass:\"btn-group fixed hidden-md-and-up\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.$t('close')))]),_c('button',{staticClass:\"cancel\",on:{\"click\":_vm.cancelBooking,\"mouseleave\":function($event){_vm.confirmCancel=null}}},[_vm._v(_vm._s(!_vm.confirmCancel ? _vm.$t('cancelSession') : _vm.$t('cancelSession')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\"\nimport {IBooking, TrainingSessionType} from \"@chaosinsight/yogipeople-portalclient\"\n\n@Component({ components: { } })\nexport default class BookingCountdown extends Vue {\n\t@Prop()\n\tprivate booking!: IBooking\n\n\t@Prop()\n\tprivate systemTime!: string\n\n\tprivate timeLeft: string | null = null\n\tprivate timeToStart!: number\n\tprivate listenCounter: number | null = null\n\tprivate timeDelta: number = new Date(this.systemTime).getTime() - Date.now()\n\n\tprivate confirmCancel: boolean | null = null\n\n\tprivate mounted(): void {\n\t\tthis.countDown()\n\t}\n\tprivate destroyed(): void {\n\t\tif (this.listenCounter !== null) clearTimeout(this.listenCounter)\n\t}\n\n\t/**\n\t * Training type name\n\t */\n\n\tprivate getTrainingType(typeId: number): string {\n\t\tconst type = TrainingSessionType[typeId]\n\t\treturn type.charAt(0).toUpperCase() + type.slice(1)\n\t}\n\n\t/**\n\t * Time countdown\n\t */\n\n\tprivate countDown() {\n\t\tthis.calcTime()\n\t\tif (this.listenCounter !== null && this.timeToStart <= -1000) {\n\t\t\tclearTimeout(this.listenCounter)\n\t\t\tthis.$emit(\"startBookingSession\", this.booking)\n\t\t} else this.listenCounter = window.setTimeout(() => this.countDown(), 1000)\n\t}\n\n\tprivate calcTime() {\n\t\tthis.timeToStart = new Date(this.booking.TimeSlot.Start).getTime() - Date.now() - this.timeDelta\n\t\tconst h = Math.floor((this.timeToStart / 1000 / 60 / 60))\n\t\tconst m = Math.floor((this.timeToStart / 1000 / 60) % 60)\n\t\tconst s = Math.floor((this.timeToStart / 1000) % 60)\n\t\tthis.timeLeft = `${this.leadZero(h)}:${this.leadZero(m)}:${this.leadZero(s)}`\n\t}\n\n\t/**\n\t * Cancel booking\n\t */\n\n\tprivate cancelBooking(): void {\n\n\t\tif (this.confirmCancel) {\n\t\t\tthis.$emit(\"cancelBooking\", this.booking.Id)\n\t\t\twindow.localStorage.setItem(\"cancelBooking\", \"yes\") }\n\n\t\tthis.confirmCancel = true\n\t}\n\n\t/**\n\t * Lead zero\n\t */\n\n\tprivate leadZero = (x: number): string => x < 10 ? x < 0 ? `00` :\t`0${x}` : `${x}`\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingCountdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingCountdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BookingCountdown.vue?vue&type=template&id=2b7cba77&scoped=true&lang=pug&\"\nimport script from \"./BookingCountdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./BookingCountdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BookingCountdown.vue?vue&type=style&index=0&id=2b7cba77&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b7cba77\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/avatar-dummy.10e80969.jpg\";"],"sourceRoot":""}