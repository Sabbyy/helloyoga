(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-UserAccount-vue","view-UserNotifications-vue","view-UserUpdate-vue"],{"0a2d":function(t,e,i){},"246a":function(t,e,i){"use strict";const a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e["a"]=a},"26e5":function(t,e,i){},"3a8f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dataType?i("UserUpdate",{attrs:{dataType:t.dataType},on:{close:function(e){t.dataType=null}}}):i("v-container",{staticClass:"fluid user-account"},[i("v-layout",{staticClass:"column wrap"},[i("v-flex",{staticClass:"top-bar"},[i("button",{staticClass:"close",on:{click:t.close}}),i("div",{staticClass:"h3"},[t._v(t._s(t.$t("myAccount")))])]),i("v-flex",[i("ul",{staticClass:"account-data"},[i("li",[i("span",[t._v(t._s(t.profile.FirstName+" "+t.profile.LastName))])]),i("li",[i("span",[t._v(t._s(t.profile.Email)+"\t")])]),i("li",[i("span",[t._v("+"+t._s(t.profile.CountryCode)+" "+t._s(t.profile.Mobile))])])]),t.isStudent?i("div",{staticClass:"session-tickets"},[i("div",{staticClass:"h3"},[t._v("Session Tickets")]),0===t.sessionTickets.length?i("div",{staticClass:"tickets-info"},[t._v("No session tickets remaining")]):i("div",{staticClass:"tickets-info"},[t._v("Session tickets remaining: "),i("strong",{staticClass:"ml-2"},[t._v(t._s(""+t.sessionTickets.length))])])]):t._e()])],1),t._l(t.notificationChannels,function(t){return i("UserNotifications",{key:t.Type,attrs:{notificationChannel:t}})})],2)},n=[],s=i("9ab4"),o=i("60a3"),r=i("b99e"),c=i("3df5"),l=i("d55a");let d=class extends o["c"]{constructor(){super(...arguments),this.sessionTickets=[],this.notificationChannels=[],this.dataType=null}get isStudent(){return r["a"].isStudent}mounted(){this.notificationChannelConfigurations().then(t=>this.notificationChannels=t),this.isStudent&&this.getSessionTickets().then(t=>this.sessionTickets=t)}getSessionTickets(){return r["a"].client.call.sessionTickets.get().response.then(t=>t)}notificationChannelConfigurations(){return r["a"].client.call.account.notificationChannelConfigurations().response.then(t=>t)}close(){this.$emit("close")}};s["__decorate"]([Object(o["b"])()],d.prototype,"profile",void 0),s["__decorate"]([Object(o["b"])()],d.prototype,"isTrainer",void 0),d=s["__decorate"]([Object(o["a"])({components:{UserNotifications:l["default"],UserUpdate:c["default"]}})],d);var u=d,f=u,p=(i("9fef"),i("2877")),h=i("6544"),m=i.n(h),v=i("a523"),b=i("0e8f"),g=i("a722"),y=Object(p["a"])(f,a,n,!1,null,"9bd6eb58",null);e["default"]=y.exports;m()(y,{VContainer:v["a"],VFlex:b["a"],VLayout:g["a"]})},"3df5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"fluid update-account"},[i("v-layout",{staticClass:"column wrap"},[i("v-flex",{staticClass:"top-bar"},[i("button",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}}),i("div",{staticClass:"h3"},[t._v(t._s(t.label[t.dataType].title))])]),i("v-flex",[i("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[i("div",{staticClass:"input-group"},["checkbox"===t.inputType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.firstField,expression:"firstField"}],attrs:{placeholder:t.label[t.dataType].ph1,autocomplete:"",type:"checkbox"},domProps:{checked:Array.isArray(t.firstField)?t._i(t.firstField,null)>-1:t.firstField},on:{change:function(e){var i=t.firstField,a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);a.checked?o<0&&(t.firstField=i.concat([s])):o>-1&&(t.firstField=i.slice(0,o).concat(i.slice(o+1)))}else t.firstField=n}}}):"radio"===t.inputType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.firstField,expression:"firstField"}],attrs:{placeholder:t.label[t.dataType].ph1,autocomplete:"",type:"radio"},domProps:{checked:t._q(t.firstField,null)},on:{change:function(e){t.firstField=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.firstField,expression:"firstField"}],attrs:{placeholder:t.label[t.dataType].ph1,autocomplete:"",type:t.inputType},domProps:{value:t.firstField},on:{input:function(e){e.target.composing||(t.firstField=e.target.value)}}}),"checkbox"===t.inputType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.secondField,expression:"secondField"}],attrs:{placeholder:t.label[t.dataType].ph2,autocomplete:"",type:"checkbox"},domProps:{checked:Array.isArray(t.secondField)?t._i(t.secondField,null)>-1:t.secondField},on:{change:function(e){var i=t.secondField,a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);a.checked?o<0&&(t.secondField=i.concat([s])):o>-1&&(t.secondField=i.slice(0,o).concat(i.slice(o+1)))}else t.secondField=n}}}):"radio"===t.inputType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.secondField,expression:"secondField"}],attrs:{placeholder:t.label[t.dataType].ph2,autocomplete:"",type:"radio"},domProps:{checked:t._q(t.secondField,null)},on:{change:function(e){t.secondField=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.secondField,expression:"secondField"}],attrs:{placeholder:t.label[t.dataType].ph2,autocomplete:"",type:t.inputType},domProps:{value:t.secondField},on:{input:function(e){e.target.composing||(t.secondField=e.target.value)}}})]),i("button",{staticClass:"yp-primary reverse btn-big",attrs:{type:"submit",disabled:!t.isFormValid}},[t._v(t._s(t.label[t.dataType].title))])])],1)],1)],1)},n=[],s=i("9ab4"),o=i("60a3"),r=i("246a"),c=i("88c3");let l=class extends o["c"]{constructor(){super(...arguments),this.firstField="",this.secondField="",this.label={name:{title:c["a"].t("userUpdates.name"),ph1:c["a"].t("userUpdates.name1"),ph2:c["a"].t("userUpdates.name2")},email:{title:c["a"].t("userUpdates.email"),ph1:c["a"].t("userUpdates.email1"),ph2:c["a"].t("userUpdates.email2")},password:{title:c["a"].t("userUpdates.pass"),ph1:c["a"].t("userUpdates.pass1"),ph2:c["a"].t("userUpdates.pass2")}}}get inputType(){return"password"===this.dataType?"password":"text"}get isFormValid(){switch(this.dataType){case"name":return this.firstField.trim().length>=2&&this.secondField.trim().length>=2;case"email":return this.isEmailValid&&this.firstField.trim()===this.secondField.trim();case"password":return this.firstField.trim().length>=8&&this.firstField.trim()===this.secondField.trim();default:return!1}}get isEmailValid(){return r["a"].test(this.firstField)}updateData(){switch(this.dataType){case"name":alert("name");break;case"email":alert("email");break;case"password":alert("password");break}this.$emit("close")}};s["__decorate"]([Object(o["b"])()],l.prototype,"dataType",void 0),l=s["__decorate"]([Object(o["a"])({components:{}})],l);var d=l,u=d,f=(i("7c4e"),i("2877")),p=i("6544"),h=i.n(p),m=i("a523"),v=i("0e8f"),b=i("4bd4"),g=i("a722"),y=Object(f["a"])(u,a,n,!1,null,"083f99f0",null);e["default"]=y.exports;h()(y,{VContainer:m["a"],VFlex:v["a"],VForm:b["a"],VLayout:g["a"]})},"4bd4":function(t,e,i){"use strict";i("26e5");var a=i("94ab");e["a"]={name:"v-form",mixins:[Object(a["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",function(i){e.$set(e.errorBag,t._uid,i)},{immediate:!0})},a={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=i(t)))}):a.valid=i(t),a},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var i=this.watchers.find(function(t){return t._uid===e._uid});i.valid&&i.valid(),i.shouldValidate&&i.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},"61a6":function(t,e,i){"use strict";var a=i("9e39"),n=i.n(a);n.a},"7c4e":function(t,e,i){"use strict";var a=i("0a2d"),n=i.n(a);n.a},"94ab":function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return c});var a=i("2b0e"),n=i("d9bd");function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){return function(){return Object(n["b"])("The "+t+" component must be used inside a "+e)}}function r(t,e,i){var n=e&&i?{register:o(e,i),unregister:o(e,i)}:null;return a["default"].extend({name:"registrable-inject",inject:s({},t,{default:n})})}function c(t){return a["default"].extend({name:"registrable-provide",methods:{register:null,unregister:null},provide:function(){return s({},t,{register:this.register,unregister:this.unregister})}})}},"9e39":function(t,e,i){},"9fef":function(t,e,i){"use strict";var a=i("d518"),n=i.n(a);n.a},a523:function(t,e,i){"use strict";i("db6d");var a=i("e8f2");e["a"]=Object(a["a"])("container")},a722:function(t,e,i){"use strict";i("db6d");var a=i("e8f2");e["a"]=Object(a["a"])("layout")},d518:function(t,e,i){},d55a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",[i("v-flex",[i("div",{staticClass:"notifications-config"},[i("div",{staticClass:"h3"},[t._v(t._s(1===t.notificationChannel.Type?t.$t("userNotification.email"):t.$t("userNotification.push")))]),i("div",{staticClass:"settings"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.notificationsSelected[0],expression:"notificationsSelected[0]"}],attrs:{type:"checkbox"},domProps:{value:t.notificationChannel.BookingCancellationEnabled,checked:Array.isArray(t.notificationsSelected[0])?t._i(t.notificationsSelected[0],t.notificationChannel.BookingCancellationEnabled)>-1:t.notificationsSelected[0]},on:{change:[function(e){var i=t.notificationsSelected[0],a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=t.notificationChannel.BookingCancellationEnabled,o=t._i(i,s);a.checked?o<0&&t.$set(t.notificationsSelected,0,i.concat([s])):o>-1&&t.$set(t.notificationsSelected,0,i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.notificationsSelected,0,n)},t.postChannel]}}),i("span",[t._v(t._s(t.$t("userNotification.cancel")))])]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.notificationsSelected[1],expression:"notificationsSelected[1]"}],attrs:{type:"checkbox"},domProps:{value:t.notificationChannel.BookingConfirmationEnabled,checked:Array.isArray(t.notificationsSelected[1])?t._i(t.notificationsSelected[1],t.notificationChannel.BookingConfirmationEnabled)>-1:t.notificationsSelected[1]},on:{change:[function(e){var i=t.notificationsSelected[1],a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=t.notificationChannel.BookingConfirmationEnabled,o=t._i(i,s);a.checked?o<0&&t.$set(t.notificationsSelected,1,i.concat([s])):o>-1&&t.$set(t.notificationsSelected,1,i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.notificationsSelected,1,n)},t.postChannel]}}),i("span",[t._v(t._s(t.$t("userNotification.confirm")))])])])])])],1)},n=[],s=i("9ab4"),o=i("60a3"),r=i("b99e");let c=class extends o["c"]{constructor(){super(...arguments),this.notificationsSelected=[this.notificationChannel.BookingCancellationEnabled,this.notificationChannel.BookingConfirmationEnabled]}postChannel(){1===this.notificationChannel.Type?this.postConfigurationsEmail():this.postConfigurationsPushNotification()}postConfigurationsEmail(){const t=this.notificationsSelected;r["a"].client.call.account.notificationChannelConfigurationsEmail(t[0],t[1])}postConfigurationsPushNotification(){const t=this.notificationsSelected;r["a"].client.call.account.notificationChannelConfigurationsPushNotification(t[0],t[1])}};s["__decorate"]([Object(o["b"])()],c.prototype,"notificationChannel",void 0),c=s["__decorate"]([Object(o["a"])({components:{}})],c);var l=c,d=l,u=(i("61a6"),i("2877")),f=i("6544"),p=i.n(f),h=i("0e8f"),m=i("a722"),v=Object(u["a"])(d,a,n,!1,null,"6feea795",null);e["default"]=v.exports;p()(v,{VFlex:h["a"],VLayout:m["a"]})}}]);
//# sourceMappingURL=view-UserAccount-vue.2bdef06e.js.map