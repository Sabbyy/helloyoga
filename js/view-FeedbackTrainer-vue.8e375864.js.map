{"version":3,"sources":["webpack:///./src/components/FeedbackTrainer.vue?ac19","webpack:///./src/mixins/whichBrowser.ts","webpack:///./src/managers/zendesk.ts","webpack:///./src/components/FeedbackTrainer.vue?2357","webpack:///./src/components/FeedbackTrainer.vue?65ae","webpack:///./src/components/FeedbackTrainer.vue?9f8c","webpack:///./src/components/FeedbackTrainer.vue","webpack:///./src/assets/images/avatar-dummy.jpg"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FeedbackTrainer_vue_vue_type_style_index_0_id_10b1b55a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FeedbackTrainer_vue_vue_type_style_index_0_id_10b1b55a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","whichBrowser","name","os","navigator","appVersion","toLowerCase","indexOf","test","platform","toLocaleLowerCase","window","userAgent","mixins_whichBrowser","zendesk_Zendesk","vue_property_decorator","[object Object]","this","url","token","profile","session","fetch","method","headers","Content-Type","Authorization","body","JSON","stringify","request","email","Email","requester","FirstName","LastName","subject","comment","Date","StartsOn","toLocaleString","ExpiresOn","Id","Participant","feedbackType","reason","endTime","stars","blockStudent","msg","isStudent","getBody","participant","getSubject","isEndedEarlier","getFeedback","getFeedbackComment","tslib_es6","Object","components","__webpack_exports__","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","postZendesk","_e","submitFeedback","_v","_s","$t","_l","idx","key","attrs","src","sessionData","ProfilePictureUrl","class","block","directives","rawName","value","expression","type","domProps","checked","Array","isArray","_i","change","$$a","$$el","target","$$c","$$v","$$i","concat","slice","id","placeholder","input","composing","staticRenderFns","FeedbackTrainervue_type_script_lang_ts_FeedbackTrainer","cancelTime","storage","localStorage","cancelReasons","i18n","t","getItem","removeItem","cancelReason","dist","Expired","OtherUserCompleted","State","completeOnLogin","OtherUserCancelled","cancelOnLogin","portal","client","call","trainingSession","trainerComplete","response","then","cancel","zendesk","createTicket","$emit","FeedbackTrainervue_type_script_lang_ts_","components_FeedbackTrainervue_type_script_lang_ts_","component","componentNormalizer","module","exports","p"],"mappings":"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","file":"js/view-FeedbackTrainer-vue.8e375864.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackTrainer.vue?vue&type=style&index=0&id=10b1b55a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackTrainer.vue?vue&type=style&index=0&id=10b1b55a&lang=stylus&scoped=true&\"","interface IWhichBrowser {\n\tname: string\n\tos: string\n}\n\nconst whichBrowser: IWhichBrowser = {name: \"unknown\", os: \"unknown\"}\n\nif (navigator.appVersion.toLowerCase().indexOf(\"mac\") !== -1) whichBrowser.os = \"MacOS\"\nelse if (/ipad|iphone|ipod/.test(navigator.platform.toLocaleLowerCase())) whichBrowser.os = \"iOS\"\nelse if (window.navigator.userAgent.indexOf(\"ServiceUI\") !== -1) whichBrowser.os = \"Windows 10\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.2\") !== -1) whichBrowser.os = \"Windows 8\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.1\") !== -1) whichBrowser.os = \"Windows 7\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 6.0\") !== -1) whichBrowser.os = \"Windows Vista\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 5.1\") !== -1) whichBrowser.os = \"Windows XP\"\nelse if (window.navigator.userAgent.indexOf(\"Windows NT 5.0\") !== -1) whichBrowser.os = \"Windows 2000\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"win\") !== -1) whichBrowser.os = \"Windows\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"android\") > -1) whichBrowser.os = \"Android\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"linux\") !== -1) whichBrowser.os = \"Linux\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"x11\") !== -1) whichBrowser.os = \"UNIX\"\n\nif (navigator.userAgent.toLowerCase().indexOf(\"chrome\") !== -1) whichBrowser.name  = \"Chrome\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"firefox\") !== -1 ) whichBrowser.name = \"FireFox\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"safari\") !== -1) whichBrowser.name = \"Safari\"\nelse if (navigator.appVersion.toLowerCase().indexOf(\"edge\") > -1) whichBrowser.name = \"Edge\"\nelse if ((navigator.userAgent.toLowerCase().indexOf(\"msie\") !== -1 )) whichBrowser.name = \"IE\"\nelse if (navigator.userAgent.toLowerCase().indexOf(\"op\") > -1) whichBrowser.name = \"Opera\"\n\nexport default whichBrowser\n","import {Component, Vue} from \"vue-property-decorator\"\nimport {IStudentProfile, ITrainerProfile, ITrainingSession} from \"@chaosinsight/yogipeople-portalclient\"\nimport whichBrowser from \"@/mixins/whichBrowser\"\n\n@Component({ components: { } })\nclass Zendesk extends Vue {\n\tprivate url: string = \"https://helloyoga.zendesk.com/api/v2/requests.json\"\n\tprivate token: string = \"Bearer a5ec5001e4f565b24562c9152167b756654bd331d8d857a645607c8fd12c7054\"\n\n\t/**\n\t * Media Error ticket: video/audio not detected\n\t */\n\n\tpublic postTicketMediaErr(profile: IStudentProfile | ITrainerProfile, session: ITrainingSession) {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest: {\n\t\t\t\t\temail: profile.Email,\n\t\t\t\t\trequester: {\n\t\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t\t},\n\t\t\t\t\tsubject: `Media Error!`,\n\t\t\t\t\tcomment: {\n\t\t\t\t\t\tbody: `\n\t\t\t\t\t\t\tProblem with accessing to microphone and/or camera!\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tSession started on: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tName: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t\tEmail: ${profile.Email}\n\t\t\t\t\t\t\tID: ${profile.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tParticipant name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t\t\t`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Send ticket on session started\n\t */\n\n\tpublic postTicketStart(profile: IStudentProfile | ITrainerProfile, session: ITrainingSession) {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest: {\n\t\t\t\t\temail: profile.Email,\n\t\t\t\t\trequester: {\n\t\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t\t},\n\t\t\t\t\tsubject: `Session Started!`,\n\t\t\t\t\tcomment: {\n\t\t\t\t\t\tbody: `\n\t\t\t\t\t\t\tSession started on: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tName: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t\tEmail: ${profile.Email}\n\t\t\t\t\t\t\tID: ${profile.Id}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tParticipant name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t\t\t`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Send ticket on session aborted, canceled (ended earlier), completed\n\t */\n\n\t// tslint:disable:max-line-length\n\tpublic createTicket(feedbackType: string, reason: string | null, profile: IStudentProfile | ITrainerProfile, session: ITrainingSession, endTime: string | null, stars: number | null, blockStudent: boolean | null, msg: string | null, isStudent?: boolean): void {\n\t\tfetch(this.url, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Authorization\": this.token\n\t\t\t},\n\t\t\tbody: this.getBody(feedbackType, reason, profile, session, endTime, stars, blockStudent, msg, isStudent)\n\t\t})\n\t}\n\n\tprivate getBody(feedbackType: string, reason: string | null, profile: IStudentProfile | ITrainerProfile, session: ITrainingSession, endTime: string | null, stars: number | null, blockStudent: boolean | null, msg: string | null, isStudent?: boolean): string {\n\t\tconst requester = isStudent ? \"Student\" : \"Trainer\"\n\t\tconst participant = isStudent ? \"Trainer\" : \"Student\"\n\n\t\treturn JSON.stringify({\n\t\t\trequest: {\n\t\t\t\temail: profile.Email,\n\t\t\t\trequester: {\n\t\t\t\t\tname: `${profile.FirstName} ${profile.LastName}`\n\t\t\t\t},\n\t\t\t\tsubject: `${this.getSubject(feedbackType, endTime)}`,\n\t\t\t\tcomment: {\n\t\t\t\t\tbody: `\n\t\t\t\t\t\t${requester} name: ${profile.FirstName} ${profile.LastName}\n\t\t\t\t\t\t${requester} email: ${profile.Email}\n\t\t\t\t\t\t${requester} ID: ${profile.Id}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${participant} name: ${session.Participant.FirstName} ${session.Participant.LastName}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tSession ID: ${session.Id}\n\t\t\t\t\t\tSession start: ${new Date(session.StartsOn).toLocaleString()}\n\t\t\t\t\t\tSession expires: ${new Date(session.ExpiresOn).toLocaleString()}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tSession success: YES\n\t\t\t\t\t\t${this.isEndedEarlier(feedbackType, endTime)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${this.getFeedback(feedbackType, stars, blockStudent, reason)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\t${this.getFeedbackComment(msg)}\n\t\t\t\t\t\t------------------------------------------------------\n\t\t\t\t\t\tBrowser: ${whichBrowser.name}\n\t\t\t\t\t\tOS: ${whichBrowser.os}\n\t\t\t\t\t\tPlatform: ${navigator.platform}\n\t\t\t\t\t\tUserAgent: ${navigator.userAgent}\n\t\t\t\t\t`\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate getSubject(feedbackType: string, endTime: string | null): string {\n\t\tif (feedbackType === \"completeOnLogin\")\n\t\t\treturn `Session completed on login`\n\t\telse if (feedbackType === \"cancelOnLogin\")\n\t\t\treturn `Session completed on login (ended earlier)`\n\t\treturn endTime\n\t\t\t? `Session complete (ended earlier)`\n\t\t\t: `Session complete`\n\t}\n\n\tprivate isEndedEarlier(feedbackType: string, endTime: string | null) {\n\t\tif (feedbackType === \"completeOnLogin\")\n\t\t\treturn `Session fully completed (rated on next login)`\n\t\telse if (feedbackType === \"cancelOnLogin\")\n\t\t\treturn `Session completed earlier on next login`\n\t\treturn endTime\n\t\t\t? `Session ended earlier on: ${endTime}`\n\t\t\t: `Session fully completed`\n\t}\n\n\tprivate getFeedback(feedbackType: string, stars: number | null, blockStudent: boolean | null, reason: string | null): string | null {\n\t\tif (feedbackType === \"complete\" || feedbackType === \"completeOnLogin\")\n\t\t\tif (blockStudent === null)\n\t\t\t\treturn stars\n\t\t\t\t\t? `Rating: ${stars} ⭐️`\n\t\t\t\t\t: `Rating not submited`\n\t\t\t\telse\n\t\t\t\t\treturn `Allow another session: ${!blockStudent ? \"YES\" : \"NO\"}`\n\t\telse\n\t\t\treturn reason\n\t\t\t\t? `Reason selected: ${reason}`\n\t\t\t\t: `Reason not selected`\n\t}\n\n\tprivate getFeedbackComment(msg: string | null): string {\n\t\treturn msg\n\t\t\t? `Feedback message: ${msg}`\n\t\t\t: `Feedback message: No message`\n\t}\n}\n\nexport default new Zendesk()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('div',{staticClass:\"button-group\"},[(_vm.feedbackType!=='completeOnLogin' && _vm.feedbackType!=='cancelOnLogin')?_c('button',{staticClass:\"yp__close-circle\",on:{\"click\":function($event){return _vm.postZendesk()}}}):_vm._e(),(_vm.feedbackType === 'complete' || _vm.feedbackType === 'completeOnLogin')?_c('button',{staticClass:\"yp__arrow-right-circle submit ml-auto\",on:{\"click\":_vm.submitFeedback}}):_vm._e()]),(_vm.feedbackType === 'cancel' || _vm.feedbackType === 'cancelOnLogin')?_c('div',{staticClass:\"feedback-cancel text-xs-center\"},[_c('div',{staticClass:\"h2\"},[_vm._v(_vm._s(_vm.$t('feedbackTrainer.text1'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('feedbackTrainer.text2')))]),_c('ul',{staticClass:\"cancel-reasons\"},_vm._l((_vm.cancelReasons),function(reason,idx){return _c('li',{key:idx},[_c('div',{staticClass:\"hr\"}),_c('a',{on:{\"click\":function($event){return _vm.submitFeedback(reason)}}},[_c('div',{staticClass:\"h4\"},[_vm._v(_vm._s(reason))])])])}),0)]):_c('div',{staticClass:\"feedback-complete text-xs-center\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.sessionData.Participant.ProfilePictureUrl ? _vm.sessionData.Participant.ProfilePictureUrl : (\"\" + (require('@/assets/images/avatar-dummy.jpg')))}}),_c('div',{staticClass:\"h2\"},[_vm._v(_vm._s(_vm.$t('feedbackTrainer.text3'))+\" \"+_vm._s((\"\" + (_vm.sessionData.Participant.FirstName)))+\" \"+_vm._s(_vm.$t('feedbackTrainer.text4')))]),_c('label',{staticClass:\"yp-switch\",class:{block: _vm.blockStudent}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.blockStudent),expression:\"blockStudent\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.blockStudent)?_vm._i(_vm.blockStudent,null)>-1:(_vm.blockStudent)},on:{\"change\":function($event){var $$a=_vm.blockStudent,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.blockStudent=$$a.concat([$$v]))}else{$$i>-1&&(_vm.blockStudent=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.blockStudent=$$c}}}}),_c('span',[_vm._v(\"Yes\")]),_c('span',[_vm._v(\"No\")])]),_c('label',{staticClass:\"feedback-field\"},[_vm._v(\"Send a message to HelloYoga support.\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"type\":\"text\",\"id\":\"feedback\",\"placeholder\":_vm.$t('feedbackTrainer.text5')},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Prop, Vue} from \"vue-property-decorator\"\nimport { ITrainerProfile, ITrainingSession, TrainingSessionState } from \"@chaosinsight/yogipeople-portalclient\"\nimport Portal from \"@/managers/portal\"\nimport Zendesk from \"@/managers/zendesk\"\nimport i18n from \"../i18n\"\nimport { TranslateResult } from \"vue-i18n\"\n\n@Component({ components: { } })\nexport default class FeedbackTrainer extends Vue {\n\t@Prop()\n\tpublic feedbackType!: string\n\n\t@Prop()\n\tpublic profile!: ITrainerProfile\n\n\t@Prop()\n\tpublic sessionData!: ITrainingSession\n\n\tpublic blockStudent: boolean = false\n\tpublic comment: string | null = null\n\tpublic cancelTime: string | null = null\n\n\tprivate storage = window.localStorage\n\n\tprivate cancelReasons: TranslateResult[] = [\n\t\ti18n.t(\"feedbackTrainer.reason1\"),\n\t\ti18n.t(\"feedbackTrainer.reason2\"),\n\t\ti18n.t(\"feedbackTrainer.reason3\"),\n\t\ti18n.t(\"feedbackTrainer.reason4\"),\n\t\ti18n.t(\"feedbackTrainer.reason5\"),\n\t]\n\n\tprivate created(): void {\n\t\tthis.cancelTime = this.feedbackType === \"cancel\" ? new Date().toLocaleString() : null\n\n\t\t// Zendesk ticket \"session started\": remove local storage item if exists\n\t\tif (this.storage.getItem(\"zendesk\") !== null)\n\t\t\tthis.storage.removeItem(\"zendesk\")\n\t}\n\n\t/**\n\t * Submit corresponding feedback\n\t */\n\n\tprivate submitFeedback(cancelReason?: string) {\n\t\tif ([TrainingSessionState.Expired, TrainingSessionState.OtherUserCompleted].indexOf(this.sessionData.State) !== -1)\n\t\t\tthis.completeOnLogin()\n\t\telse if (this.sessionData.State === TrainingSessionState.OtherUserCancelled)\n\t\t\tthis.cancelOnLogin()\n\t\tthis.postZendesk(cancelReason)\n\t}\n\n\t/**\n\t * Complete/cancel session on login (if exists)\n\t */\n\n\tprivate completeOnLogin(): void {\n\t\tPortal.client.call.trainingSession.trainerComplete(this.sessionData.Id)\n\t\t\t.response.then()\n\t}\n\n\tprivate cancelOnLogin(): void {\n\t\tPortal.client.call.trainingSession.cancel(this.sessionData.Id)\n\t\t\t.response.then()\n\t}\n\n\t/**\n\t * Send Zendesk ticket\n\t */\n\n\tprivate postZendesk(reason: string | null = null): void {\n\t\tZendesk.createTicket(this.feedbackType, reason, this.profile, this.sessionData, this.cancelTime, null, this.blockStudent, this.comment)\n\t\tthis.$emit(\"close\")\n\t}\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackTrainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--11-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeedbackTrainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeedbackTrainer.vue?vue&type=template&id=10b1b55a&scoped=true&lang=pug&\"\nimport script from \"./FeedbackTrainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeedbackTrainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FeedbackTrainer.vue?vue&type=style&index=0&id=10b1b55a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10b1b55a\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/avatar-dummy.10e80969.jpg\";"],"sourceRoot":""}